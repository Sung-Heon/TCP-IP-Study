# 소켓의 프로토콜과 그에 따른 데이터 전송 특성

### 프로토콜이란

> 컴퓨터 상호 간에 필요한 **통신 규약**
> 

두 컴퓨터가 서로 데이터를 주고받기 위해 정해놓은 약속이라고 할 수 있다. 

<br />

#  `socket()` 함수의 시그니처 이해하기

```cpp
SOCKET sock = socket(int af, int type, int protocol);
```

### 반환값

`SOCKET` : unsigned long long → 64 bit (8 byte) 정수 → 핸들값 

### 인자값

`af` : 프로토콜 체계 (protocol family) → 생성되는 소켓이 사용할 프로토콜의 부류 정보 

- IP4 체계인지 IP6 체계인지 로컬 통신 체계인지 등등
- 종류는 [링크](https://docs.microsoft.com/en-us/windows/win32/api/winsock2/nf-winsock2-socket) 참고
- 보통 `PF_INET(IP4)`를 사용

`type` : 소켓의 데이터 전송 방식을 어떤 걸 사용할 것인지

- **연결지향형 (SOCK_STREAM)**
    
    > **신뢰성** 있는 **순차적인** 바이트 기반의 연결지향 데이터 전송 방식
    > 
    - 중간에 데이터가 손실되지 않음을 보장한다.
        - 만약 수신 버퍼가 꽉 차서 더 이상 데이터를 수신할 수 없는 상태가 되면 상대측에서 데이터를 송신하지 않는다. → 자신과 연결된 상대 소켓을 파악하면서 데이터를 전송하기 때문
    - 전송 순서대로 데이터가 수신된다.
    - 전송되는 데이터의 바운더리가 존재하지 않는다. → 여러 번에 걸쳐 보내진 데이터를 한 번의 `recv()` 함수 호출을 통해 받아볼 수 있다.
    - 소켓 간 1:1 연결만 가능하다
    - **TCP 소켓**
- **비연결지향형 (SOCK_DGRAM)**
    
    > 신뢰성과 순차적 데이터 전송을 보장하지 않는 대신 **고속의 데이터 전송**을 목적으로 하는 데이터 전송 방식
    > 
    - 빠른 전송을 지향한다.
    - 전송 순서를 보장하지 않는다.
    - 데이터가 손실될 수 있다.
    - 전송되는 데이터의 바운더리가 존재한다.
    - 한 번에 전송할 수 있는 데이터의 크기가 제한된다.
    - 연결지향형 소켓과 달리 연결이라는 개념이 없다.
    - **UDP 소켓**
